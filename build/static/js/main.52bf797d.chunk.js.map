{"version":3,"sources":["reducers/localstore.js","reducers/index.js","containers/Button.js","containers/MenuButton.js","containers/Row.js","containers/Column.js","containers/AddAccount.js","containers/SelectItem.js","containers/ListAccount.js","containers/JsonEditor.js","App.js","registerServiceWorker.js","index.js"],"names":["AsyncStorage","key","defaultValue","value","localStorage","getItem","JSON","parse","data","setItem","stringify","CategoryName","category","Assets","Liabilities","Expenses","Income","Equity","addDealData","deal","callback","a","date","Date","console","log","push","getFullYear","getMonth","getDate","day","debit","name","credit","comment","loadAccountData","filter","v","d","timestamp","getTime","b","map","sort","year","month","f","indexOf","saveAccountData","jsonData","loadCategoryData","fontSize","payload","size","width","height","parseInt","fontScale","window","innerWidth","innerHeight","devicePixelRatio","initialState","types","accountApp","combineReducers","app","state","action","type","loadAccount","dispatch","getState","account","startLoading","loading","stopLoading","Button","scale","this","props","className","onClick","style","Component","defaultProps","connect","MenuButton","handleChange","setState","nextProps","onChange","children","flex","AddAccount","numberKeyHandller","onChangeComment","inputComment","addDeal","gotoList","slice","selectDebit","selectCredit","replaceCategory","changeComment","e","target","preventDefault","Row","Column","readOnly","ref","input","Item","title","margin","padding","SelectItem","loadCategory","selectItemHandler","item","onSelect","selectCategoryHandller","goBack","overflow","i","color","getDay","backgroundColor","borderRight","textAlign","ListAccount","doMinus","now","doPlus","goEditor","removeQuot","s","m","match","makeCSV","json","r","forEach","JsonEditor","event","csvData","saveAccount","csv","split","l","w","parseCSV","err","App","onResize","onLayout","openDebit","openCredit","cancelSelectItem","setParams","changeValue","gotoJsonEditor","addEventListener","removeEventListener","renderContent","zIndex","position","top","bottom","right","left","params","Promise","all","Object","keys","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById","URL","process","origin","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.52bf797d.chunk.js","sourcesContent":["const AsyncStorage = {\n  getItem: function(key, defaultValue) {\n    const value = localStorage.getItem(key);\n    return (value !== null) ? JSON.parse(value).data : defaultValue;\n  },\n  setItem: function(key, value) {\n    localStorage.setItem(key, JSON.stringify({ data: value }));\n  },\n}\n\nexport const CategoryName = (category) => {\n  const cat = {\n    Assets: '資産',\n    Liabilities: '負債',\n    Expenses: '費用',\n    Income: '収益',\n    Equity: '資本',\n  }\n  return cat[category];\n}\n\nexport const addDealData = async (deal, callback) => {\n  const data = await AsyncStorage.getItem(\"walletAccountData\", [])\n  const date = new Date();\n  console.log(deal);\n  data.push({\n    date: date.getFullYear()+\"/\"+(date.getMonth()+1)+\"/\"+date.getDate(),\n    day: date.getDate(),\n    debit: CategoryName(deal.debit.category)+':'+deal.debit.name,\n    credit: CategoryName(deal.credit.category)+':'+deal.credit.name,\n    value: deal.value,\n    comment: deal.comment,\n  })\n  await AsyncStorage.setItem(\"walletAccountData\", data);\n  callback();\n}\n\nexport const loadAccountData = async (filter, callback) => {\n  if (!filter) {\n    callback((await AsyncStorage.getItem(\"walletAccountData\", []))\n    .map( v => {\n      const d = new Date(v.date);\n      if (!v.day) {\n        v.day = d.getDate()\n      }\n      v.timestamp = d.getTime();\n      return v;\n    })\n    .sort( (a,b) => {\n      if (a.timestamp > b.timestamp) return -1;\n      return 1;\n    }))\n  } else {\n    const d = new Date(`${filter.year}/${filter.month}/1`);\n    const f = `${d.getFullYear()}/${d.getMonth()+1}`;\n    callback((await AsyncStorage.getItem(\"walletAccountData\", []))\n    .filter( v => {\n      return (v.date.indexOf(f) >= 0);\n    })\n    .map( v => {\n      const d = new Date(v.date);\n      if (!v.day) {\n        v.day = d.getDate()\n      }\n      v.timestamp = d.getTime();\n      return v;\n    })\n    .sort( (a,b) => {\n      if (a.timestamp > b.timestamp) return -1;\n      return 1;\n    }));\n  }\n}\n\nexport const saveAccountData = async (jsonData, callback) => {\n  await AsyncStorage.setItem(\"walletAccountData\", jsonData);\n  callback();\n}\n\nexport const loadCategoryData = (category, callback) => {\n  const table = {\n    Assets: [\n      \"現金\",\n      \"預金\",\n      \"電子マネー\",\n      \"資産\",\n    ],\n    Liabilities: [\n      \"カード\",\n      \"負債\",\n    ],\n    Equity: [\n      \"資本\",\n    ],\n    Income: [\n      \"給与\",\n      \"収益\",\n    ],\n    Expenses: [\n      \"食費\",\n      \"消耗品\",\n      \"新聞図書\",\n      \"交通費\",\n      \"散髪\",\n      \"衣類\",\n      \"費用\",\n    ],\n  }\n  callback(table[category]);\n}\n","import { combineReducers } from 'redux'\nimport {\n  CategoryName,\n  loadCategoryData,\n  addDealData,\n  loadAccountData, \n  saveAccountData, \n} from './localstore'\n\nconst AsyncStorage = {\n  getItem: function(key, defaultValue) {\n    const value = localStorage.getItem(key);\n    return (value !== null) ? JSON.parse(value).data : defaultValue;\n  },\n  setItem: function(key, value) {\n    localStorage.setItem(key, JSON.stringify({ data: value }));\n  },\n}\n\nexport const fontSize = (payload) => {\n  var size = (payload.width < payload.height) ? payload.width : payload.height;\n  return parseInt(size*0.8/10, 10);\n}\n\nexport const fontScale = (size) => {\n  if (window.innerWidth > window.innerHeight) {\n    return size;\n  }\n  return size*window.devicePixelRatio/2;\n}\n\nconst initialState = {\n  debit: { category: 'Expenses', name: '食費' },\n  credit: { category: 'Assets', name: '現金' },\n  comment: '',\n  value: '',\n}\n\nexport const types = {\n  PARAMS: 'PARAMS',\n  LAYOUT: 'LAYOUT',\n}\n\nconst setValues = (state = {}, action) => {\n  if (action.type === types.PARAMS) {\n    return {\n      ...state,\n      ...action.payload,\n    }\n  }\n  if (action.type === types.LAYOUT) {\n    return {\n      ...state,\n      ...action.payload,\n    }\n  }\n  return state;\n}\n\nexport const accountApp = combineReducers({\n  app: setValues,\n})\n\nexport const loadInitialData = (params) => async (dispatch, getState) => {\n  const payload = {\n    ...initialState,\n    ...params,\n    width: window.innerWidth,\n    height: window.innerHeight,\n  }\n  payload.fontSize = fontSize(payload);\n  payload.category = {};\n  payload.loading = false;\n  await Promise.all(Object.keys(initialState).map(async (key) => {\n    payload[key] = await AsyncStorage.getItem(key, payload[key]);\n  }));\n  dispatch({\n    type: types.PARAMS,\n    payload,\n  });\n}\n\nexport const changeLayout = (payload) => async (dispatch, getState) => {\n  dispatch({\n    type: types.LAYOUT,\n    payload: {\n      ...payload,\n      fontSize: fontSize(payload),\n    },\n  });\n}\n\nexport const setParams = (payload, callback) => async (dispatch, getState) => {\n  await Promise.all(Object.keys(payload).map(async (key) => {\n    await AsyncStorage.setItem(key, payload[key]);\n  }));\n  dispatch({\n    type: types.PARAMS,\n    payload,\n  });\n  if (callback) callback();\n}\n\nexport const loadCategory = (category, callback) => async (dispatch, getState) => {\n  loadCategoryData(category, (data) => {\n    const payload = {\n      category: {},\n    }\n    payload.category[category] = data;\n    dispatch({\n      type: types.PARAMS,\n      payload,\n    });\n    if (callback) callback();\n  });\n}\n\nexport const loadAccount = (filter, callback) => async (dispatch, getState) => {\n  loadAccountData(filter, (data) => {\n    const payload = {\n      account: data,\n    }\n    dispatch({\n      type: types.PARAMS,\n      payload,\n    });\n    if (callback) callback(data);\n  });\n}\n\nexport const saveAccount = (jsonData, callback) => async (dispatch, getState) => {\n  await saveAccountData(jsonData, callback);\n}\n\nexport const addDeal = (deal, callback) => async (dispatch, getState) => {\n  console.log(deal);\n  addDealData(deal, () => {\n    dispatch({\n      type: types.PARAMS,\n      payload: {},\n    });\n    if (callback) callback();\n  });\n}\n\nexport const startLoading = (callback) => async (dispatch, getState) => {\n  dispatch({\n    type: types.PARAMS,\n    payload: {\n      loading: true,\n    },\n  });\n  if (callback) callback();\n}\n\nexport const stopLoading = (callback) => async (dispatch, getState) => {\n  dispatch({\n    type: types.PARAMS,\n    payload: {\n      loading: false,\n    },\n  });\n  if (callback) callback();\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { fontSize } from '../reducers'\n\nclass Button extends Component {\n  render() {\n    const scale = this.props.fontScale || 1;\n    return (\n      <div className=\"Button-Container\">\n        <input className=\"Button-Key\"\n          type={this.props.type}\n          value={this.props.value}\n          onClick={this.props.onClick}\n          style={ {fontSize: `${parseInt(this.props.fontSize*scale, 10)}px` }}\n        />\n      </div>\n    )\n  }\n}\n\nButton.defaultProps = {\n  width: window.innerWidth,\n  height: window.innerHeight,\n  fontSize: fontSize({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  }),\n}\n\nexport default connect(\n  state => ({\n    fontSize: state.app.fontSize,\n    width: state.app.width,\n    height: state.app.height,\n  })\n)(Button);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { fontSize, fontScale, } from '../reducers'\n\nclass MenuButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      value: this.props.value,\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.props.value) {\n      this.setState({\n        value: nextProps.value,\n      });\n    }\n  }\n\n  handleChange = () => {\n  }\n\n  render() {\n    return (\n      <div className=\"MenuButton-Container\" style={ {...this.props.style} } >\n        <input className=\"MenuButton-Key\"\n          type={this.props.type}\n          value={this.state.value}\n          onClick={this.props.onClick}\n          onChange={this.handleChange}\n          style={ {fontSize: `${fontScale(22)}px` }}\n        />\n      </div>\n    )\n  }\n}\n\nMenuButton.defaultProps = {\n  width: window.innerWidth,\n  height: window.innerHeight,\n  value: '',\n  fontSize: fontSize({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  }),\n}\n\nexport default connect(\n  state => ({\n    fontSize: state.app.fontSize,\n    width: state.app.width,\n    height: state.app.height,\n  })\n)(MenuButton);\n","import React from 'react'\n\nexport default function({ style, children, ...props }) {\n  return (\n    <div className=\"App-Row\" style={ { flex:1, ...style } }>\n      { children }\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function({ style, children, ...props }) {\n  return (\n    <div className=\"App-Column\" style={ { flex:1, ...style } }>\n      { children }\n    </div>\n  )\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport Button from './Button';\nimport MenuButton from './MenuButton';\nimport Row from './Row';\nimport Column from './Column';\nimport { fontSize, fontScale, } from '../reducers'\nimport { CategoryName, } from '../reducers/localstore'\n\nclass AddAccount extends Component {\n\n  numberKeyHandller = (key) => {\n    return () => {\n      if (key === 'add') {\n        if (this.props.onChangeComment) {\n          this.props.onChangeComment(this.inputComment.value, () => {\n            if (this.props.addDeal) this.props.addDeal(() => {\n              this.inputComment.value = '';\n            });\n          });\n        }\n      } else\n      if (key === 'list') {\n        if (this.props.gotoList) this.props.gotoList();\n      } else\n      if (key === 'cls') {\n        this.props.onChange('');\n      } else\n      if (key === 'del') {\n        this.props.onChange(this.props.value.slice(0, -1));\n        // this.setState({ value: this.state.value.slice(0, -1) });\n      } else {\n        if ((key === '0' || key === '00') && this.props.value === '') return;\n        this.props.onChange(this.props.value+key);\n        // this.setState({ value: this.state.value+key });\n      }\n    }\n  }\n\n  selectDebit = () => {\n    if (this.props.selectDebit) this.props.selectDebit();\n  }\n\n  selectCredit = () => {\n    if (this.props.selectCredit) this.props.selectCredit();\n  }\n\n  replaceCategory = () => {\n    if (this.props.replaceCategory) this.props.replaceCategory();\n  }\n\n  changeComment = (e) => {\n    if (this.props.onChangeComment) this.props.onChangeComment(e.target.value);\n    e.preventDefault();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Row style={ { flex:2 } }>\n          <Column>\n            <Row>\n              {\n                <div className=\"App-Column\" style={ { width: '100%' } }>\n                  <span className=\"Category\" style={ { fontSize: fontScale(24), } }>{CategoryName(this.props.debit.category)}</span>\n                  <MenuButton type=\"button\" value={this.props.debit.name} onClick={this.selectDebit} style={{ flex: 1 }} />\n                </div>\n              }\n            </Row>\n          </Column>\n          <MenuButton type=\"button\" value=\"⇄\" style={{ height: '100%', width: fontScale(60) }} onClick={this.replaceCategory} />\n          <Column>\n            <Row>\n              {\n                <div className=\"App-Column\" style={ { width: '100%' } }>\n                  <span className=\"Category\" style={ { fontSize: fontScale(24), } }>{CategoryName(this.props.credit.category)}</span>\n                  <MenuButton type=\"button\" value={this.props.credit.name} onClick={this.selectCredit} style={{ flex: 1 }} />\n                </div>\n              }\n            </Row>\n          </Column>\n        </Row>\n        <input type=\"text\" value={this.props.value} style={ { flex: 2, fontSize: this.props.fontSize,  }} readOnly/>\n        <input ref={(input)=>{this.inputComment = input}} type=\"text\"style={ { flex: 1, fontSize: fontScale(24),  }}/>\n        {/*\n        <input type=\"text\" value={this.props.comment} style={ { flex: 1, fontSize: fontScale(24),  }} onChange={this.changeComment}/>\n        */}\n        <Row style={ { flex:2 } }>\n          <Button type=\"button\" value=\"1\" onClick={this.numberKeyHandller('1')} />\n          <Button type=\"button\" value=\"2\" onClick={this.numberKeyHandller('2')} />\n          <Button type=\"button\" value=\"3\" onClick={this.numberKeyHandller('3')} />\n          <Button type=\"button\" value=\"C\" onClick={this.numberKeyHandller('cls')} />\n        </Row>\n        <Row style={ { flex:2 } }>\n          <Button type=\"button\" value=\"4\" onClick={this.numberKeyHandller('4')} />\n          <Button type=\"button\" value=\"5\" onClick={this.numberKeyHandller('5')} />\n          <Button type=\"button\" value=\"6\" onClick={this.numberKeyHandller('6')} />\n          <Button type=\"button\" value=\"削除\" onClick={this.numberKeyHandller('del')} />\n        </Row>\n        <Row style={ { flex:4 } }>\n          <Column style={ { flex:3 } }>\n            <Row>\n              <Button type=\"button\" value=\"7\" onClick={this.numberKeyHandller('7')} />\n              <Button type=\"button\" value=\"8\" onClick={this.numberKeyHandller('8')} />\n              <Button type=\"button\" value=\"9\" onClick={this.numberKeyHandller('9')} />\n            </Row>\n            <Row>\n              <Button type=\"button\" value=\"0\" onClick={this.numberKeyHandller('0')} style={ { flex:2 } }/>\n              <Button type=\"button\" value=\"00\" onClick={this.numberKeyHandller('00')} style={ { flex:1 } }/>\n            </Row>\n          </Column>\n          {\n            (this.props.value==='') ? \n            <Button type=\"button\" value=\"一覧\" onClick={this.numberKeyHandller('list')} style={ { flex:1 } }/>\n            : <Button type=\"button\" value=\"追加\" onClick={this.numberKeyHandller('add')} style={ { flex:1 } }/>\n          }\n        </Row>\n      </div>\n    );\n  }\n}\n\nAddAccount.defaultProps = {\n  width: window.innerWidth,\n  height: window.innerHeight,\n  debit: {},\n  credit: {},\n  comment: '',\n  value: '',\n  fontSize: fontSize({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  }),\n}\n\nexport default connect(\n  state => {\n    return {\n      debit: state.app.debit,\n      credit: state.app.credit,\n      fontSize: state.app.fontSize,\n      value: state.app.value,\n      comment: state.app.comment,\n      width: state.app.width,\n      height: state.app.height,\n    }\n  }\n)(AddAccount);\n","import React, { Component } from 'react';\nimport MenuButton from './MenuButton';\nimport Row from './Row';\n//import Column from './Column';\nimport { connect } from 'react-redux'\nimport {\n  loadCategory,\n  startLoading,\n  stopLoading,\n  fontScale,\n} from '../reducers'\n\nfunction Item({ title, onClick }) {\n  return (\n    <div className=\"Item-Container\" onClick={ onClick }>\n      <p style={ { margin: 8, padding: 8, height: fontScale(22), fontSize: `${fontScale(22)}px` } }> { title } </p>\n    </div>\n  )\n}\n\nclass SelectItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      category: 'Assets',\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      category: this.props.value.category,\n    }, this.loadCategory);\n  }\n\n  loadCategory = () => {\n    this.props.startLoading(() => {\n      this.props.loadCategory(this.state.category, () => {\n        this.props.stopLoading();\n      });\n    });\n  }\n\n  selectItemHandler = (item) => {\n    return () => {\n      if (this.props.onSelect) {\n        this.props.onSelect({\n          category: this.state.category,\n          name: item,\n        });\n      }\n    }\n  }\n\n  selectCategoryHandller = (category) => {\n    return () => {\n      this.setState({\n        category,\n      }, this.loadCategory)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"Item-Container\">\n          <Row>\n            <span style={ { flex: 1, fontSize: `${fontScale(22)}px`, margin: 'auto', } }>{ this.props.title }</span>\n            <MenuButton type=\"button\" value=\"キャンセル\" onClick={this.props.goBack} style={ { width: '60%', height: '100%', } }/>\n          </Row>\n        </div>\n        <div style={ { height: '100%', overflow: 'auto', } }>\n        {\n          (this.props.category[this.state.category]) ? this.props.category[this.state.category].map( (v, i) => ( <Item key={i} title={v} onClick={ this.selectItemHandler(v) }/> )) : null\n        }\n        </div>\n        <div>\n          <Row>\n            <MenuButton type=\"button\" value=\"資産\" onClick={this.selectCategoryHandller('Assets')} style={ { flex: 1, height: fontScale(64) } }/>\n            <MenuButton type=\"button\" value=\"負債\" onClick={this.selectCategoryHandller('Liabilities')} style={ { flex: 1, height: fontScale(64) } }/>\n            <MenuButton type=\"button\" value=\"費用\" onClick={this.selectCategoryHandller('Expenses')} style={ { flex: 1, height: fontScale(64) } }/>\n            <MenuButton type=\"button\" value=\"収益\" onClick={this.selectCategoryHandller('Income')} style={ { flex: 1, height: fontScale(64) } }/>\n            <MenuButton type=\"button\" value=\"資本\" onClick={this.selectCategoryHandller('Equity')} style={ { flex: 1, height: fontScale(64) } }/>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n    fontSize: state.app.fontSize,\n    category: state.app.category,\n  }),\n  dispatch => ({\n    loadCategory: (category, callback) => dispatch( loadCategory(category, callback) ),\n    startLoading: (callback) => dispatch( startLoading(callback) ),\n    stopLoading: (callback) => dispatch( stopLoading(callback) ),\n  })\n)(SelectItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport MenuButton from './MenuButton';\nimport Row from './Row';\nimport {\n  loadAccount,\n  startLoading,\n  stopLoading,\n  fontScale,\n} from '../reducers'\n\nfunction Item({ value, onClick }) {\n  const date = new Date(value.date);\n  var color = 'white';\n  if (date.getDay() == 0) {\n    //sunday\n    color = 'pink';\n  } else\n  if (date.getDay() == 6) {\n    //saturday\n    color = '#8EF';\n  } else {\n    //others\n  }\n  return (\n    <div className=\"Item-Container\" onClick={ onClick }>\n      <Row>\n        <div style={{ height: '100%', backgroundColor: `${color}`, borderRight: 'lightgray solid 1px' }} >\n        <p style={ { margin: 8, padding: 8, height: fontScale(16), fontSize: `${fontScale(12)}px`, flex: 1, } }> { value.day } </p>\n        </div>\n        <p style={ { textAlign: 'center', margin: 8, padding: 8, height: fontScale(16), fontSize: `${fontScale(12)}px`, flex: 5, overflow: 'hidden', } }> { value.debit } </p>\n        <p style={ { textAlign: 'center', margin: 8, padding: 8, height: fontScale(16), fontSize: `${fontScale(12)}px`, flex: 1, textAlign: 'right', } }> { value.value } </p>\n        <p style={ { textAlign: 'center', margin: 8, padding: 8, height: fontScale(16), fontSize: `${fontScale(12)}px`, flex: 5, overflow: 'hidden', } }> { value.credit } </p>\n      </Row>\n    </div>\n  )\n}\n\nclass ListAccount extends Component {\n  constructor(props) {\n    super(props);\n    const now = new Date();\n    this.state = {\n      now,\n      year: now.getFullYear(),\n      month: now.getMonth()+1,\n    }\n  }\n\n  componentDidMount() {\n    this.loadAccount()\n  }\n\n  loadAccount = () => {\n    this.props.startLoading(() => {\n      this.props.loadAccount({ year: this.state.year, month: this.state.month }, () => {\n        this.props.stopLoading();\n      });\n    });\n  }\n\n  doMinus = () => {\n    console.log('doMinus');\n    const now = new Date(this.state.year, this.state.month-2, 1);\n    this.setState({\n      now,\n      year: now.getFullYear(),\n      month: now.getMonth()+1,\n    }, this.loadAccount)\n  }\n\n  doPlus = () => {\n    console.log('doPlus');\n    const now = new Date(this.state.year, this.state.month, 1);\n    this.setState({\n      now,\n      year: now.getFullYear(),\n      month: now.getMonth()+1,\n    }, this.loadAccount)\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {/*<p>{ window.innerWidth } { window.innerHeight } { window.devicePixelRatio }</p>*/}\n        <div className=\"Item-Container\">\n          <Row>\n            <span style={ { flex: 1, fontSize: `${fontScale(22)}px`, margin: 'auto', } } onClick={this.props.goEditor}>{ this.props.title }</span>\n            <MenuButton type=\"button\" value=\"もどる\" onClick={this.props.goBack} style={ { width: '40%', height: '100%', } }/>\n          </Row>\n          <Row>\n            <MenuButton type=\"button\" value=\"←\" onClick={this.doMinus} style={ { width: '20%', height: '100%', } }/>\n            <span style={ { flex: 1, fontSize: `${fontScale(18)}px`, margin: 'auto', width: '100%', textAlign: 'center', } }>{ `${this.state.year}/${this.state.month}` }</span>\n            <MenuButton type=\"button\" value=\"→\" onClick={this.doPlus} style={ { width: '20%', height: '100%', } }/>\n          </Row>\n        </div>\n        <div style={ { height: '100%', overflow: 'auto', } }>\n        {\n          (this.props.account) ? this.props.account.map( (v, i) => ( <Item key={i} value={v} /> )) : null\n        }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n    account: state.app.account,\n  }),\n  dispatch => ({\n    loadAccount: (filter, callback) => dispatch( loadAccount(filter, callback) ),\n    startLoading: (callback) => dispatch( startLoading(callback) ),\n    stopLoading: (callback) => dispatch( stopLoading(callback) ),\n  })\n)(ListAccount);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport Row from './Row';\nimport MenuButton from './MenuButton';\nimport {\n  loadAccount,\n  saveAccount,\n} from '../reducers'\n\n\nfunction removeQuot(s) {\n  const m = s.match(/\\s*\"(.*)\"\\s*/);\n  if (m) {\n    return removeQuot(m[1]);\n  }\n  return s;\n}\n\nfunction parseCSV(csv)\n{\n  const r = [];\n  csv.split('\\n').forEach( l => {\n    const w = l.split(',');\n    r.push({\n      date: removeQuot(w[0]),\n      debit: removeQuot(w[1]),\n      credit: removeQuot(w[2]),\n      value: removeQuot(w[3]),\n      comment: removeQuot(w[4]),\n    })\n  })\n  console.log(r);\n  return r;\n}\n\nfunction makeCSV(json)\n{\n  const keys = ['date','debit','credit','value','commment'];\n  let r = '';\n  json.forEach( v => {\n    if (r !== '') r += '\\n';\n    r += `${v.date},${v.debit},${v.credit},${v.value},\\\"${removeQuot(v.comment)}\\\"`;\n  })\n  return r;\n}\n\nclass JsonEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      csvData: '',\n    }\n  }\n  \n  componentDidMount() {\n    this.props.loadAccount(null, (data) => {\n      data.map( v => {\n        delete v.day;\n        delete v.timestamp;\n      })\n      this.setState({\n        csvData: makeCSV(data),\n      })\n    })\n  }\n\n  handleChange = (event) => {\n    this.setState({csvData: event.target.value});\n  }\n\n  goBack = () => {\n    try {\n      this.props.saveAccount(parseCSV(this.state.csvData), () => {\n        this.props.goBack();\n      });\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {/*<p>{ window.innerWidth } { window.innerHeight } { window.devicePixelRatio }</p>*/}\n        <div className=\"Item-Container\">\n          <Row>\n            <MenuButton type=\"button\" value=\"もどる\" onClick={this.goBack} style={ { width: '40%', height: '100%', } }/>\n          </Row>\n        </div>\n        <div style={ { height: '100%', overflow: 'auto', } }>\n          <textarea style={ { height: '100%', width: '100%', } } value={this.state.csvData} onChange={this.handleChange} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n  }),\n  dispatch => ({\n    loadAccount: (filter, callback) => dispatch( loadAccount(filter, callback) ),\n    saveAccount: (jsonData, callback) => dispatch( saveAccount(jsonData, callback) )\n  })\n)(JsonEditor);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport {\n  AddAccount,\n  SelectItem,\n  ListAccount,\n  JsonEditor,\n} from './containers';\nimport {\n  changeLayout,\n  setParams,\n  addDeal,\n  startLoading,\n  stopLoading,\n} from './reducers';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      state: 'add-account',\n      value: '',\n      comment: '',\n    }\n  }\n\n  onResize = () => {\n    this.props.onLayout({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onResize, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  }\n\n  gotoList = () => {\n    this.setState({\n      state: 'list-account',\n    });\n  }\n\n  openDebit = () => {\n    this.setState({\n      state: 'select-debit',\n    });\n  }\n\n  openCredit = () => {\n    this.setState({\n      state: 'select-credit',\n    });\n  }\n\n  cancelSelectItem = () => {\n    this.setState({\n      state: 'add-account',\n    });\n  }\n\n  replaceCategory = () => {\n    this.props.setParams({\n      debit: this.props.credit,\n      credit: this.props.debit,\n    });\n  }\n\n  changeValue = (value) => {\n    this.props.setParams({\n      value,\n    });\n  }\n\n  changeComment = (comment, callback) => {\n    this.props.setParams({\n      comment,\n    }, callback);\n  }\n\n  selectDebit = (debit) => {\n    this.props.setParams({ debit });\n    this.setState({\n      state: 'add-account',\n    });\n  }\n\n  selectCredit = (credit) => {\n    this.props.setParams({ credit });\n    this.setState({\n      state: 'add-account',\n    });\n  }\n\n  gotoJsonEditor = () => {\n    this.setState({\n      state: 'json-editor',\n    });\n  }\n\n  addDeal = (callback) => {\n    this.props.startLoading(() => {\n      this.props.addDeal({\n        value: this.props.value,\n        credit: this.props.credit,\n        debit: this.props.debit,\n        comment: this.props.comment,\n      }, () => {\n        this.props.stopLoading();\n        this.changeValue('');\n        this.changeComment('');\n        if (callback) callback();\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div style={ { height: '100%', } }>\n        {\n          this.renderContent()\n        }\n        {\n          (this.props.loading) ? <div style={{\n            backgroundColor: 'rgba(0,0,0,0.4)',\n            zIndex: 1,\n            position: 'absolute',\n            top: 0,\n            bottom: 0,\n            right: 0,\n            left: 0,\n          }} /> : null\n        }\n      </div>\n    )\n  }\n\n  renderContent() {\n    if (this.state.state === 'add-account') {\n      return (\n        <AddAccount\n          value={this.props.value}\n          comment={this.props.comment}\n          onChange={this.changeValue}\n          addDeal={this.addDeal}\n          gotoList={this.gotoList}\n          selectDebit={this.openDebit}\n          selectCredit={this.openCredit}\n          replaceCategory={this.replaceCategory}\n          onChangeComment={this.changeComment}\n        />\n      );\n    }\n    if (this.state.state === 'select-debit') {\n      return (\n        <SelectItem\n          title=\"借り方\"\n          value={this.props.debit}\n          goBack={this.cancelSelectItem}\n          onSelect={this.selectDebit}\n        />\n      );\n    }\n    if (this.state.state === 'select-credit') {\n      return (\n        <SelectItem\n          title=\"貸し方\"\n          value={this.props.credit}\n          goBack={this.cancelSelectItem}\n          onSelect={this.selectCredit}\n        />\n      );\n    }\n    if (this.state.state === 'list-account') {\n      return (\n        <ListAccount\n          title=\"取引\"\n          goBack={this.cancelSelectItem}\n          goEditor={this.gotoJsonEditor}\n        />\n      );\n    }\n    if (this.state.state === 'json-editor') {\n      return (\n        <JsonEditor\n          goBack={this.gotoList}\n        />\n      );\n    }\n    return (\n      <div />\n    )\n  }\n}\n\nexport default connect(\n  state => ( {\n    debit: state.app.debit,\n    credit: state.app.credit,\n    loading: state.app.loading,\n    value: state.app.value,\n    comment: state.app.comment,\n  } ),\n  dispatch => ( {\n    onLayout: (size) => dispatch( changeLayout(size) ),\n    setParams: (params, callback) => dispatch( setParams(params, callback) ),\n    addDeal: (deal, callback) => dispatch( addDeal(deal, callback) ),\n    startLoading: (callback) => dispatch( startLoading(callback) ),\n    stopLoading: (callback) => dispatch( stopLoading(callback) ),\n  })\n)(App);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport ReactDOM from 'react-dom';\nimport {\n  accountApp,\n  loadInitialData,\n} from './reducers'\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nlet store = createStore(accountApp, applyMiddleware(thunk))\n\nstore.dispatch(loadInitialData());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\nregisterServiceWorker();\n"],"sourceRoot":""}